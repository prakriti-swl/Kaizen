{% extends "base.html" %}
{% load static %}

{% block content %}

<section class="products-hero" style="background-image: url({% static 'img/background-img1.jpg' %});">
  <h2>Our Products</h2>
  <p>Explore our collection of high-quality cosmetics.</p>
</section>

{% for category in categories %}
<section class="category-section">
  <h3 class="category-title">{{ category.name }}</h3>

  <div class="product-grid">
    {% for product in category.products.all|slice:":6" %}
    <div class="product-card">

      {% if product.status %}
        <span class="product-badge {{ product.status }}">
          {{ product.status|title }}
        </span>
      {% endif %}

      <!-- IMAGE (clickable) -->
      <a href="{% url 'product-detail' product.slug %}" class="product-link">
        <div class="product-image" style="background-image: url('{{ product.image.url }}');"></div>
      </a>

      <!-- ACTIONS  -->
      <div class="product-actions">
        <a href="#" title="Add to Cart">üõí</a>
        <a href="{% url 'product-detail' product.slug %}" title="Details">üîç</a>
        <a href="#" title="Wishlist">‚ô°</a>
      </div>

      <!-- INFO -->
      <div class="product-info">
        <div class="product-title-price">
          <a href="{% url 'product-detail' product.slug %}" class="product-name">
            {{ product.name }}
          </a>
          <span class="price">${{ product.price }}</span>
        </div>
      </div>

    </div>

    {% endfor %}
  </div>

  {% if category.products.count > 6 %}
  <div class="show-more-container">
    <a href="{% url 'category_detail' category.slug %}" class="btn-show-more">Show More</a>
  </div>
  {% endif %}
</section>
{% endfor %}

{% endblock %}
